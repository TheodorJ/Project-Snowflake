package proj.snowflake.src;

public class Ticker implements Runnable {
	
	Main main;
	
	public long lastTick;
	
	public Ticker(Main m) {
		main = m;
	}
	
	public void tick() {
        if(main.rightHeld) {
        	for(int i = 0; i < main.chunks.size(); i++) {
        		main.chunks.get(i).x -= (main.movementSpeed * (System.currentTimeMillis() - lastTick) * 2);
        		main.chunks2.get(i).x -= (main.movementSpeed * (System.currentTimeMillis() - lastTick) * 2);
        	}
        }
        if(main.leftHeld) {
        	for(int i = 0; i < main.chunks.size(); i++) {
        		main.chunks.get(i).x += (main.movementSpeed * (System.currentTimeMillis() - lastTick) * 2);
        		main.chunks2.get(i).x += (main.movementSpeed * (System.currentTimeMillis() - lastTick) * 2);
        	}
        }
        if(main.upHeld) {
        	for(int i = 0; i < main.chunks.size(); i++) {
        		main.chunks.get(i).y += (main.movementSpeed * (System.currentTimeMillis() - lastTick) * 2);
        		main.chunks2.get(i).y += (main.movementSpeed * (System.currentTimeMillis() - lastTick) * 2);
        	}
        }
        if(main.downHeld) {
        	for(int i = 0; i < main.chunks.size(); i++) {
        		main.chunks.get(i).y -= (main.movementSpeed * (System.currentTimeMillis() - lastTick) * 2);
        		main.chunks2.get(i).y -= (main.movementSpeed * (System.currentTimeMillis() - lastTick) * 2);
        	}
        }
        if(main.zoomingIn) {
        	if(main.HEIGHTSCALE < main.MAXZOOM)
        		main.HEIGHTSCALE += 0.02;
        }
        if(main.zoomingOut) {
        	if(main.HEIGHTSCALE > main.MINZOOM)
        		main.HEIGHTSCALE -= 0.02;
        }
        lastTick = System.currentTimeMillis();
    }
	
	public void run() {
		while(true) {
			tick();
			try {
				Thread.sleep(0);
        	} catch (Exception e) {
        	}
		}
	}
}
